# ISA

命令は、アセンブリの「文字列」表現と、「バイナリ」表現の２通りがあります。

理想的には 1 - 1 の関係になりますが、実用上は疑似命令の存在により、N - 1 の関係になります。

```
'string' → inst(rs1 rs2 rd imm) → cpu(opc func rs1 rs2 rd) → 'binary'
```

アセンブリの命令一覧は `isa.hpp` で定義されており、`format.hpp` で定義されるフォーマットに従っています。

## 命令の変換規則

```
{"add", {"rd", "rs1", "rs2"}, {OPC::calc, "rs1", "rs2", "rd", Func::ADD}}
```

最初のフィールド `"add"` は、命令のニーモニックを指定しています。

次のフィールドは、命令の引数を指定します。

最後のフィールドは、バイナリ表現を記述しています。
数値は、そのまま出力されます。
文字列は、引数のバイナリ表現をそこに配置することを意味します。
